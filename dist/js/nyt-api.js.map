{"version":3,"sources":["nyt-api.js"],"names":["NytApi","term","options","axios","get","API_URL_BASE","params","API_KEY","q","then","handleResponse","catch","handleError","response","value","data","docs","event","CustomEvent","detail","document","querySelector","dispatchEvent","error"],"mappings":";;;;;;;;;;;;;;IAAMA,M;;;;0CACW,0D;;qCACL,kC;;;;;2BAEHC,I,EAAoB;AAAA,UAAdC,OAAc,uEAAJ,EAAI;AACzBC,MAAAA,KAAK,CACFC,GADH,CACO,KAAKC,YADZ,EAC0B;AACtBC,QAAAA,MAAM;AACJ,qBAAW,KAAKC,OADZ;AAEJC,UAAAA,CAAC,EAAEP;AAFC,WAGDC,OAHC;AADgB,OAD1B,EAQGO,IARH,CAQQ,KAAKC,cARb,EASGC,KATH,CASS,KAAKC,WATd;AAUD;;;mCAEcC,Q,EAAU;AACvB;AACA,UAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAT,CAAcF,QAAd,CAAuBG,IAArC;AAEA,UAAMC,KAAK,GAAG,IAAIC,WAAJ,CAAgB,aAAhB,EAA+B;AAAEC,QAAAA,MAAM,EAAEL;AAAV,OAA/B,CAAd;AACAM,MAAAA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BC,aAA/B,CAA6CL,KAA7C;AACD;;;gCAEWM,K,EAAO,CAAE","sourcesContent":["class NytApi {\n  API_URL_BASE = \"https://api.nytimes.com/svc/search/v2/articlesearch.json\";\n  API_KEY = \"QT3L7SGkXlo5eJqpAsnf76L21p6I8tqO\";\n\n  search(term, options = {}) {\n    axios\n      .get(this.API_URL_BASE, {\n        params: {\n          \"api-key\": this.API_KEY,\n          q: term,\n          ...options,\n        },\n      })\n      .then(this.handleResponse)\n      .catch(this.handleError);\n  }\n\n  handleResponse(response) {\n    // pass results back to main.js via custom event\n    const value = response.data.response.docs;\n\n    const event = new CustomEvent(\"got-results\", { detail: value });\n    document.querySelector(\"body\").dispatchEvent(event);\n  }\n\n  handleError(error) {}\n}\n"],"file":"nyt-api.js"}